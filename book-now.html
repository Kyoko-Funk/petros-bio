<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Your Consultation | PÃ©tros Biokinetics - Biokinetic Booking</title>
    <meta name="description" content="Book your biokinetic consultation with PÃ©tros Biokinetics in Swakopmund. Schedule your clinical restoration session online with our expert practitioners.">
    <meta name="keywords" content="book consultation, schedule appointment, biokinetic booking, clinical restoration appointment, Swakopmund">
    <meta name="canonical" content="https://petrosbiokinetics.com/book-now.html">
    
    <!-- Open Graph Tags -->
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="PÃ©tros Biokinetics">
    <meta property="og:title" content="Book Your Consultation | PÃ©tros Biokinetics">
    <meta property="og:description" content="Schedule your biokinetic consultation online. Expert clinical restoration in Swakopmund, Namibia.">
    <meta property="og:url" content="https://petrosbiokinetics.com/book-now.html">
    <meta property="og:image" content="https://petrosbiokinetics.com/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="PÃ©tros Biokinetics - Book Your Consultation">
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Book Your Consultation | PÃ©tros Biokinetics">
    <meta name="twitter:description" content="Schedule your biokinetic consultation online today.">
    <meta name="twitter:image" content="https://petrosbiokinetics.com/og-image.jpg">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,300;0,400;0,500;0,600;1,400;1,500&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        petros: {
                            green: '#7A8B69',
                            deep: '#2F3E30',
                            slate: '#2C3E50',
                            charcoal: '#151515',
                            cream: '#F5F4F0',
                            white: '#FFFFFF',
                        }
                    },
                    fontFamily: {
                        serif: ['"Playfair Display"', 'serif'],
                        sans: ['"Inter"', 'sans-serif'],
                    },
                    animation: {
                        'float-slow': 'float 8s ease-in-out infinite',
                        'fade-in': 'fadeIn 0.8s ease-in-out',
                        'slide-up': 'slideUp 0.8s ease-out',
                        'pulse-glow': 'pulseGlow 3s ease-in-out infinite',
                        'blob': 'blob 7s infinite',
                        'bounce-in': 'bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55)',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(40px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        pulseGlow: {
                            '0%, 100%': { boxShadow: '0 0 20px rgba(122, 139, 105, 0.3)' },
                            '50%': { boxShadow: '0 0 40px rgba(122, 139, 105, 0.6)' },
                        },
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        },
                        bounceIn: {
                            '0%': { opacity: '0', transform: 'scale(0.3)' },
                            '50%': { opacity: '1', transform: 'scale(1.05)' },
                            '70%': { transform: 'scale(0.9)' },
                            '100%': { transform: 'scale(1)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        .noise-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 9999; opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        .glass-morphism {
            background: rgba(31, 41, 55, 0.4);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        html { scroll-behavior: smooth; }
        body { background-color: #F5F4F0; overflow-x: hidden; }

        .success-icon {
            animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .checkmark {
            animation: bounceIn 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.3s both;
        }

        /* Custom Calendar Styles */
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .calendar-day {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .calendar-day:not(.disabled):not(.weekend):hover {
            background: rgba(122, 139, 105, 0.15);
            transform: scale(1.05);
        }

        .calendar-day.selected {
            background: linear-gradient(135deg, #7A8B69, #6a7b59);
            color: white;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(122, 139, 105, 0.3);
        }

        .calendar-day.today:not(.selected) {
            border: 2px solid #7A8B69;
            color: #7A8B69;
        }

        .calendar-day.disabled,
        .calendar-day.weekend {
            color: #d1d5db;
            cursor: not-allowed;
            pointer-events: none;
        }

        .calendar-day.other-month {
            color: #e5e7eb;
        }

        .time-option.selected {
            background: linear-gradient(135deg, #7A8B69, #6a7b59);
            color: white;
        }

        #time-dropdown::-webkit-scrollbar {
            width: 6px;
        }

        #time-dropdown::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        #time-dropdown::-webkit-scrollbar-thumb {
            background: #7A8B69;
            border-radius: 3px;
        }

        .medical-aid-option.selected {
            background: linear-gradient(135deg, #7A8B69, #6a7b59);
            color: white;
        }

        .medical-aid-option.selected svg {
            color: white;
        }

        .condition-option.selected {
            background: linear-gradient(135deg, #7A8B69, #6a7b59);
            color: white;
        }

        /* Body Diagram Styles */
        .body-part {
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .body-part:hover {
            fill: rgba(122, 139, 105, 0.3);
            stroke: #7A8B69;
        }

        .body-part.selected {
            fill: rgba(122, 139, 105, 0.6);
            stroke: #7A8B69;
            stroke-width: 2;
        }

        .pain-tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            background: linear-gradient(135deg, #7A8B69, #6a7b59);
            color: white;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 500;
        }

        .pain-tag button {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            line-height: 1;
            cursor: pointer;
            transition: background 0.2s;
        }

        .pain-tag button:hover {
            background: rgba(255,255,255,0.5);
        }

    </style>
</head>
<body class="font-sans antialiased text-petros-slate selection:bg-petros-green selection:text-white">
    <!-- Page Loader -->
    <div id="page-loader" class="fixed inset-0 z-[9999]" style="display: none;">
        <iframe src="loader.html" style="width: 100%; height: 100%; border: none;"></iframe>
    </div>

    <script>
        // Show loader only on true page load (not on back/forward navigation)
        // Use modern Navigation Timing API with fallback for older browsers
        const navEntries = performance.getEntriesByType('navigation');
        const isReload = navEntries.length > 0 ? navEntries[0].type === 'reload' : (performance.navigation && performance.navigation.type === 1);
        if (isReload || !sessionStorage.getItem('petros-loaded')) {
            document.getElementById('page-loader').style.display = 'block';
            sessionStorage.setItem('petros-loaded', 'true');
        }
        
        // Hide loader when page is ready
        window.addEventListener('load', function() {
            const loader = document.getElementById('page-loader');
            if (loader.style.display === 'block') {
                loader.style.opacity = '0';
                loader.style.transition = 'opacity 0.5s ease-out';
                setTimeout(() => {
                    loader.style.display = 'none';
                }, 500);
            }
        });
    </script>

    <div class="noise-overlay"></div>

    <!-- Navigation -->
    <div class="fixed top-0 w-full z-50 px-4 py-4 md:py-6">
        <nav class="max-w-7xl mx-auto glass-morphism rounded-2xl px-6 py-4 flex items-center justify-between shadow-lg">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 flex items-center justify-center">
                    <img src="logo.png" alt="PÃ©tros Biokinetics" class="h-8 md:h-10 w-auto">
                </div>
                <span class="font-serif italic text-lg md:text-xl text-white tracking-wide">
                    PÃ©tros <span class="font-light not-italic text-white/80 hidden sm:inline">Biokinetics</span>
                </span>
            </div>

            <ul class="hidden md:flex flex-1 justify-center items-center gap-12 text-white font-sans text-sm">
                <li><a href="index.html" class="font-medium tracking-wide text-white/90 hover:text-petros-green transition-all duration-300">Home</a></li>
                <li><a href="the-method.html" class="font-medium tracking-wide text-white/90 hover:text-petros-green transition-all duration-300">Method</a></li>
                <li><a href="services.html" class="font-medium tracking-wide text-white/90 hover:text-petros-green transition-all duration-300">Services</a></li>
                <li><a href="pricing.html" class="font-medium tracking-wide text-white/90 hover:text-petros-green transition-all duration-300">Pricing</a></li>
                <li><a href="faq.html" class="font-medium tracking-wide text-white/90 hover:text-petros-green transition-all duration-300">FAQ</a></li>
                <li><a href="about.html" class="font-medium tracking-wide text-white/90 hover:text-petros-green transition-all duration-300">About</a></li>
                <li><a href="contact.html" class="font-medium tracking-wide text-white/90 hover:text-petros-green transition-all duration-300">Contact</a></li>
            </ul>

            <div class="flex items-center gap-3 hidden md:flex">
                <a href="book-now.html" class="bg-petros-green text-white px-4 py-1.5 rounded-full font-semibold text-sm uppercase tracking-wider shadow-md hover:shadow-lg hover:scale-105 transition-transform duration-300">
                    Book Now
                </a>
            </div>

            <button id="mobile-toggle" class="md:hidden text-white focus:outline-none" aria-label="Open navigation menu" aria-expanded="false" aria-controls="mobile-menu">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
        </nav>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu-overlay" class="hidden fixed inset-0 z-30 bg-black/50 backdrop-blur-sm md:hidden" aria-hidden="true"></div>
    <div id="mobile-menu" class="hidden fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-40 w-[90%] max-w-sm rounded-3xl p-8 md:hidden bg-petros-deep/90 backdrop-blur-2xl border border-white/10 shadow-2xl flex-col justify-center items-center text-center" role="dialog" aria-modal="true" aria-label="Navigation menu">
        <div class="flex flex-col gap-8">
            <a href="index.html" class="mobile-link text-xl font-serif text-white hover:text-petros-green italic transition-colors duration-300">Home</a>
            <a href="the-method.html" class="mobile-link text-xl font-serif text-white hover:text-petros-green italic transition-colors duration-300">Method</a>
            <a href="services.html" class="mobile-link text-xl font-serif text-white hover:text-petros-green italic transition-colors duration-300">Services</a>
            <a href="pricing.html" class="mobile-link text-xl font-serif text-white hover:text-petros-green italic transition-colors duration-300">Pricing</a>
            <a href="faq.html" class="mobile-link text-xl font-serif text-white hover:text-petros-green italic transition-colors duration-300">FAQ</a>
            <a href="about.html" class="mobile-link text-xl font-serif text-white hover:text-petros-green italic transition-colors duration-300">About</a>
            <a href="contact.html" class="mobile-link text-xl font-serif text-white hover:text-petros-green italic transition-colors duration-300">Contact</a>
            <a href="book-now.html" class="mobile-link text-xl font-serif text-petros-green italic transition-colors duration-300">Book Now</a>
        </div>
    </div>

    <script>
        const toggle = document.getElementById('mobile-toggle');
        const menu = document.getElementById('mobile-menu');
        const overlay = document.getElementById('mobile-menu-overlay');
        const mobileLinks = document.querySelectorAll('.mobile-link');

        toggle.addEventListener('click', () => {
            const isHidden = menu.classList.contains('hidden');
            menu.classList.toggle('hidden');
            overlay.classList.toggle('hidden');
            if (isHidden) {
                overlay.setAttribute('aria-hidden', 'false');
                toggle.setAttribute('aria-expanded', 'true');
            } else {
                overlay.setAttribute('aria-hidden', 'true');
                toggle.setAttribute('aria-expanded', 'false');
            }
        });

        overlay.addEventListener('click', () => {
            menu.classList.add('hidden');
            overlay.classList.add('hidden');
            overlay.setAttribute('aria-hidden', 'true');
            toggle.setAttribute('aria-expanded', 'false');
        });

        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                menu.classList.add('hidden');
                overlay.classList.add('hidden');
                overlay.setAttribute('aria-hidden', 'true');
                toggle.setAttribute('aria-expanded', 'false');
            });
        });
    </script>

    <!-- Hero Section -->
    <header class="relative w-full h-[50vh] md:h-[60vh] min-h-[400px] flex items-center justify-center overflow-hidden pt-32 md:pt-0">
        <div class="absolute inset-0 z-0">
            <div class="absolute inset-0 bg-gradient-to-b from-petros-deep/50 via-transparent to-petros-cream z-10"></div>
            <img src="https://res.cloudinary.com/karlifunk/image/upload/v1767436673/pexels-pixabay-60013_tk2jyl.jpg?auto=compress&cs=tinysrgb&w=1600" 
                 alt="Book Your Session" 
                 class="w-full h-full object-cover object-center">
        </div>

        <div class="relative z-20 w-full px-6 flex justify-center">
            <div class="text-center max-w-4xl">
                <h1 class="font-serif text-5xl md:text-7xl text-white leading-tight mb-6 animate-slide-up">
                    Book Your <span class="italic text-petros-green">Session</span>
                </h1>
                <p class="text-white/85 text-lg md:text-xl font-light max-w-2xl mx-auto animate-slide-up" style="animation-delay: 0.2s;">
                    Tell us your preferred times and we'll get back to you with available slots via WhatsApp or email.
                </p>
            </div>
        </div>

        <div class="absolute bottom-0 right-0 w-96 h-96 bg-petros-green/10 rounded-full blur-3xl animate-blob -mr-48 -mb-48 z-0"></div>
    </header>

    <!-- Booking Form Section -->
    <section class="py-24 md:py-40 relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-petros-cream via-white to-petros-cream/50 z-0"></div>
        <div class="absolute top-0 left-0 w-96 h-96 bg-petros-green/5 rounded-full blur-3xl -ml-48 -mt-48"></div>
        
        <div class="container mx-auto px-4 relative z-10">
            <div class="max-w-2xl mx-auto">
                <!-- Booking Form -->
                <div id="booking-form-container" class="bg-white rounded-3xl p-8 md:p-12 shadow-2xl">
                    <h2 class="font-serif text-3xl text-petros-slate mb-2">Let's Get You Scheduled</h2>
                    <p class="text-gray-600 font-light mb-8">We'll review your preferences and contact you shortly with available times.</p>

                    <form id="bookingForm" class="space-y-6">
                        <!-- Name and Email -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="name" class="block text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-3">Full Name *</label>
                                <input type="text" id="name" name="name" required class="w-full px-5 py-3 rounded-lg border border-gray-200 bg-white focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 transition-all" placeholder="John Doe">
                            </div>
                            <div>
                                <label for="email" class="block text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-3">Email Address *</label>
                                <input type="email" id="email" name="email" required class="w-full px-5 py-3 rounded-lg border border-gray-200 bg-white focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 transition-all" placeholder="hello@example.com">
                            </div>
                        </div>

                        <!-- Phone -->
                        <div>
                            <label for="phone" class="block text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-3">Phone / WhatsApp *</label>
                            <input type="tel" id="phone" name="phone" required class="w-full px-5 py-3 rounded-lg border border-gray-200 bg-white focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 transition-all" placeholder="+264 81 ...">
                        </div>

                        <!-- Preferred Appointment Date & Time -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="group relative">
                                <label class="block text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-3" id="date-label">Preferred Date *</label>
                                <input type="hidden" id="appointment-date" name="appointment_date" required>
                                <div id="date-display" class="w-full px-5 py-3 rounded-xl border border-gray-200 bg-white hover:border-petros-green/50 focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 transition-all cursor-pointer flex items-center justify-between" onclick="toggleCalendar()" role="combobox" aria-labelledby="date-label" aria-haspopup="dialog" aria-expanded="false" aria-controls="calendar-dropdown" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' '){toggleCalendar();event.preventDefault();}">
                                    <span id="date-text" class="text-gray-400">Select a date...</span>
                                    <svg class="w-5 h-5 text-petros-green" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                </div>
                                <!-- Custom Calendar Dropdown -->
                                <div id="calendar-dropdown" class="hidden absolute top-full left-0 mt-2 bg-white rounded-2xl shadow-2xl border border-petros-green/10 p-5 z-50 w-[320px]" role="dialog" aria-label="Select a date" style="animation: slideDown 0.25s ease-out;">
                                    <div class="flex items-center justify-between mb-4">
                                        <button type="button" onclick="changeMonth(-1)" class="w-9 h-9 rounded-full hover:bg-petros-green/10 flex items-center justify-center transition-all" aria-label="Previous month">
                                            <svg class="w-5 h-5 text-petros-green" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                                        </button>
                                        <span id="calendar-month" class="font-semibold text-petros-slate" aria-live="polite"></span>
                                        <button type="button" onclick="changeMonth(1)" class="w-9 h-9 rounded-full hover:bg-petros-green/10 flex items-center justify-center transition-all" aria-label="Next month">
                                            <svg class="w-5 h-5 text-petros-green" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                                        </button>
                                    </div>
                                    <div class="grid grid-cols-7 gap-1 mb-2">
                                        <span class="text-xs font-bold text-petros-green text-center py-2">Mo</span>
                                        <span class="text-xs font-bold text-petros-green text-center py-2">Tu</span>
                                        <span class="text-xs font-bold text-petros-green text-center py-2">We</span>
                                        <span class="text-xs font-bold text-petros-green text-center py-2">Th</span>
                                        <span class="text-xs font-bold text-petros-green text-center py-2">Fr</span>
                                        <span class="text-xs font-bold text-gray-300 text-center py-2">Sa</span>
                                        <span class="text-xs font-bold text-gray-300 text-center py-2">Su</span>
                                    </div>
                                    <div id="calendar-days" class="grid grid-cols-7 gap-1"></div>
                                </div>
                                <p id="date-error" class="text-xs text-red-500 mt-2 hidden">Please select a weekday (Monday - Friday)</p>
                            </div>
                            <div class="group relative">
                                <label class="block text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-3" id="time-label">Preferred Time *</label>
                                <input type="hidden" id="appointment-time" name="appointment_time" required>
                                <div id="time-display" class="w-full px-5 py-3 rounded-xl border border-gray-200 bg-white hover:border-petros-green/50 focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 transition-all cursor-pointer flex items-center justify-between" onclick="toggleTimeDropdown()" role="combobox" aria-labelledby="time-label" aria-haspopup="listbox" aria-expanded="false" aria-controls="time-dropdown" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' '){toggleTimeDropdown();event.preventDefault();}">
                                    <span id="time-text" class="text-gray-400">Select a time...</span>
                                    <svg class="w-5 h-5 text-petros-green" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                                <!-- Custom Time Dropdown -->
                                <div id="time-dropdown" class="hidden absolute top-full left-0 mt-2 bg-white rounded-2xl shadow-2xl border border-petros-green/10 p-3 z-50 w-full max-h-64 overflow-y-auto" role="listbox" aria-label="Available times" style="animation: slideDown 0.25s ease-out;">
                                    <div class="space-y-1" role="group">
                                        <button type="button" onclick="selectTime('07:00', '7:00 AM')" class="time-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">7:00 AM</button>
                                        <button type="button" onclick="selectTime('08:00', '8:00 AM')" class="time-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">8:00 AM</button>
                                        <button type="button" onclick="selectTime('09:00', '9:00 AM')" class="time-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">9:00 AM</button>
                                        <button type="button" onclick="selectTime('10:00', '10:00 AM')" class="time-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">10:00 AM</button>
                                        <button type="button" onclick="selectTime('11:00', '11:00 AM')" class="time-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">11:00 AM</button>
                                        <div class="px-4 py-2 text-xs text-gray-400 font-medium border-t border-b border-gray-100 my-1" aria-hidden="true">Lunch break: 12:00 â€“ 1:00 PM</div>
                                        <button type="button" onclick="selectTime('13:00', '1:00 PM')" class="time-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">1:00 PM</button>
                                        <button type="button" onclick="selectTime('14:00', '2:00 PM')" class="time-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">2:00 PM</button>
                                        <button type="button" onclick="selectTime('15:00', '3:00 PM')" class="time-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">3:00 PM</button>
                                        <button type="button" onclick="selectTime('16:00', '4:00 PM')" class="time-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">4:00 PM</button>
                                        <button type="button" onclick="selectTime('17:00', '5:00 PM')" class="time-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">5:00 PM</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- What to Wear -->
                        <div class="bg-petros-green/5 rounded-lg p-5 border border-petros-green/20">
                            <p class="text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-2">What Should You Wear?</p>
                            <p class="text-gray-700 font-light">Comfortable workout clothes and sneakers. Avoid restrictive clothing that might limit movement during your assessment.</p>
                        </div>

                        <!-- What to Bring -->
                        <div class="bg-petros-green/5 rounded-lg p-5 border border-petros-green/20">
                            <p class="text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-2">What Should You Bring?</p>
                            <p class="text-gray-700 font-light">A water bottle and towel. If you have any recent medical reports or imaging (X-rays, MRI results), please bring those along.</p>
                        </div>

                        <!-- Medical Aid -->
                        <div class="relative">
                            <label class="block text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-3" id="medical-aid-label">Do You Have Medical Aid? *</label>
                            <input type="hidden" id="medical-aid" name="medical_aid" required>
                            <div id="medical-aid-display" class="w-full px-5 py-3 rounded-xl border border-gray-200 bg-white hover:border-petros-green/50 focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 transition-all cursor-pointer flex items-center justify-between" onclick="toggleMedicalAidDropdown()" role="combobox" aria-labelledby="medical-aid-label" aria-haspopup="listbox" aria-expanded="false" aria-controls="medical-aid-dropdown" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' '){toggleMedicalAidDropdown();event.preventDefault();}">
                                <span id="medical-aid-text" class="text-gray-400">Select an option...</span>
                                <svg class="w-5 h-5 text-petros-green transition-transform" id="medical-aid-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                            <!-- Custom Dropdown -->
                            <div id="medical-aid-dropdown" class="hidden absolute top-full left-0 mt-2 bg-white rounded-2xl shadow-2xl border border-petros-green/10 p-3 z-50 w-full" role="listbox" aria-label="Medical aid options" style="animation: slideDown 0.25s ease-out;">
                                <div class="space-y-1">
                                    <button type="button" onclick="selectMedicalAid('Yes', 'Yes')" class="medical-aid-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium flex items-center gap-3" role="option">
                                        <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                        Yes
                                    </button>
                                    <button type="button" onclick="selectMedicalAid('No', 'No')" class="medical-aid-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium flex items-center gap-3" role="option">
                                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                        No
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Reason for Visit / Condition Type -->
                        <div class="relative">
                            <label class="block text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-3" id="condition-label">Reason for Visit *</label>
                            <input type="hidden" id="condition-type-booking" name="condition_type" required>
                            <div id="condition-display" class="w-full px-5 py-3 rounded-xl border border-gray-200 bg-white hover:border-petros-green/50 focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 transition-all cursor-pointer flex items-center justify-between" onclick="toggleConditionDropdown()" role="combobox" aria-labelledby="condition-label" aria-haspopup="listbox" aria-expanded="false" aria-controls="condition-dropdown" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' '){toggleConditionDropdown();event.preventDefault();}">
                                <span id="condition-text" class="text-gray-400">What brings you in?</span>
                                <svg class="w-5 h-5 text-petros-green" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                            <!-- Custom Dropdown -->
                            <div id="condition-dropdown" class="hidden absolute top-full left-0 mt-2 bg-white rounded-2xl shadow-2xl border border-petros-green/10 p-3 z-50 w-full max-h-64 overflow-y-auto" role="listbox" aria-label="Condition type options" style="animation: slideDown 0.25s ease-out;">
                                <div class="space-y-1">
                                    <button type="button" onclick="selectCondition('Chronic Pain')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">Chronic Pain</button>
                                    <button type="button" onclick="selectCondition('Sports Injury')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">Sports Injury</button>
                                    <button type="button" onclick="selectCondition('Post-Surgery Rehabilitation')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">Post-Surgery Rehabilitation</button>
                                    <button type="button" onclick="selectCondition('Posture Correction')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">Posture Correction</button>
                                    <button type="button" onclick="selectCondition('Muscle Strain / Tension')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">Muscle Strain / Tension</button>
                                    <button type="button" onclick="selectCondition('Joint Pain / Stiffness')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">Joint Pain / Stiffness</button>
                                    <button type="button" onclick="selectCondition('Back / Neck Pain')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">Back / Neck Pain</button>
                                    <button type="button" onclick="selectCondition('Mobility / Flexibility')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">Mobility / Flexibility</button>
                                    <button type="button" onclick="selectCondition('Work-Related Injury')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">Work-Related Injury</button>
                                    <button type="button" onclick="selectCondition('General Fitness / Wellness')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">General Fitness / Wellness</button>
                                    <button type="button" onclick="selectCondition('Other')" class="condition-option w-full text-left px-4 py-3 rounded-xl hover:bg-petros-green/10 transition-all text-petros-slate font-medium" role="option">Other</button>
                                </div>
                            </div>
                        </div>

                        <!-- Message / Additional Information -->
                        <div>
                            <label for="message" class="block text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-3">Message / Additional Information</label>
                            <textarea id="message" name="message" rows="4" class="w-full px-5 py-3 rounded-lg border border-gray-200 bg-white focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 transition-all resize-none" placeholder="Tell us about your condition, any pain areas, or health concerns. (Optional)"></textarea>
                            <p class="text-xs text-gray-500 mt-2">This information helps us tailor your assessment to your specific needs.</p>
                        </div>

                        <button type="submit" class="w-full px-8 py-4 bg-petros-green text-white rounded-lg font-bold hover:bg-petros-slate transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2 group">
                            <span>Complete Booking</span>
                            <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                        </button>

                        <p class="text-center text-xs text-gray-500 uppercase tracking-wider">
                            We'll contact you within 24 hours to confirm your session.
                        </p>
                    </form>
                </div>

                <!-- Success Message (Hidden initially) -->
                <div id="success-message" class="hidden bg-gradient-to-br from-white via-petros-cream/5 to-white rounded-3xl p-12 shadow-2xl text-center border border-petros-green/10">
                    <div class="success-icon mb-8 animate-bounce-in">
                        <div class="relative w-24 h-24 mx-auto">
                            <div class="absolute inset-0 bg-petros-green/10 rounded-full animate-pulse"></div>
                            <div class="absolute inset-0 bg-petros-green/5 rounded-full" style="animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; animation-delay: 0.5s;"></div>
                            <div class="relative w-full h-full flex items-center justify-center">
                                <svg class="w-12 h-12 text-petros-green checkmark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                    
                    <h3 class="font-serif text-5xl text-petros-slate mb-4">Your Booking is Confirmed!</h3>
                    <p class="text-xl text-gray-700 font-light mb-2">We can't wait to start your restoration journey with us.</p>
                    <p class="text-sm text-petros-green font-semibold uppercase tracking-widest mb-8">Your path to absolute fluidity begins here ðŸŒ¿</p>
                    
                    <div class="bg-gradient-to-br from-petros-green/5 to-petros-deep/5 rounded-2xl p-8 mb-8 border border-petros-green/20">
                        <div class="mb-6 pb-6 border-b border-petros-green/20">
                            <div class="inline-block bg-petros-green/10 rounded-full px-4 py-2 mb-4">
                                <p class="text-xs text-petros-green font-bold uppercase tracking-wider">What's Next?</p>
                            </div>
                            <p class="text-gray-700 font-light text-base leading-relaxed">
                                We'll review your preferences and contact you within <span class="font-semibold text-petros-slate">24 hours</span> via WhatsApp or email to confirm your session time and answer any questions.
                            </p>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 bg-petros-green/15 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                    <i data-lucide="map-pin" class="w-5 h-5 text-petros-green"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-petros-green font-bold uppercase tracking-wide mb-1">Our Location</p>
                                    <p class="text-gray-700 font-light">102 Dr. Libertine Amathila Avenue<br><span class="text-sm text-gray-600">Kramersdorf, Swakopmund</span></p>
                                </div>
                            </div>
                            
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 bg-petros-green/15 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                    <i data-lucide="phone" class="w-5 h-5 text-petros-green"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-petros-green font-bold uppercase tracking-wide mb-1">Call Us</p>
                                    <p class="text-gray-700 font-serif text-lg font-semibold">+264 81 683 5055</p>
                                </div>
                            </div>

                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 bg-petros-green/15 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                    <i data-lucide="clock" class="w-5 h-5 text-petros-green"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-petros-green font-bold uppercase tracking-wide mb-1">Opening Hours</p>
                                    <p class="text-gray-700 font-light"><span class="font-semibold">Monâ€“Fri:</span> 7:00 â€“ 18:00<br><span class="text-xs text-gray-600">Closed 12:00 â€“ 13:00</span></p>
                                </div>
                            </div>

                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 bg-petros-green/15 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                    <i data-lucide="calendar" class="w-5 h-5 text-petros-green"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-petros-green font-bold uppercase tracking-wide mb-1">Weekends</p>
                                    <p class="text-gray-700 font-light"><span class="font-semibold">Saturday & Sunday</span><br><span class="text-xs text-gray-600">Closed</span></p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-center mt-8">
                        <a href="index.html" class="inline-block bg-petros-green text-white px-10 py-3 rounded-full font-bold hover:bg-petros-slate transition-all shadow-lg hover:shadow-xl">
                            Back to Home
                        </a>
                    </div>
                </div>

                <!-- Patient Information Form CTA (shown after booking) -->
                <div id="patient-form-cta" class="hidden bg-white rounded-3xl p-8 md:p-12 shadow-2xl border-2 border-petros-green mt-8 relative overflow-hidden">
                    <!-- Decorative background -->
                    <div class="absolute top-0 right-0 w-64 h-64 bg-petros-green/10 rounded-full blur-3xl -mr-32 -mt-32"></div>
                    
                    <div class="relative z-10">
                        <div class="flex items-start gap-6 mb-8">
                            <div class="w-16 h-16 bg-petros-green/20 rounded-full flex items-center justify-center flex-shrink-0">
                                <i data-lucide="clipboard-check" class="w-8 h-8 text-petros-green"></i>
                            </div>
                            <div class="flex-1">
                                <h3 class="font-serif text-3xl text-petros-slate mb-3">One More Step for the Best Results</h3>
                                <p class="text-gray-700 font-light text-lg">Complete our comprehensive patient assessment form. It takes just 5 minutes and helps us create your perfect restoration plan.</p>
                            </div>
                        </div>

                        <div class="bg-gradient-to-br from-petros-green/5 to-petros-deep/5 rounded-2xl p-6 mb-8 border border-petros-green/30">
                            <p class="text-sm text-gray-700 mb-4 font-light">
                                <span class="font-bold text-petros-slate">What we need to know:</span>
                            </p>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                <div class="flex items-center gap-3">
                                    <span class="text-petros-green text-xl">âœ“</span>
                                    <span class="text-gray-700">Medical history & conditions</span>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="text-petros-green text-xl">âœ“</span>
                                    <span class="text-gray-700">Past injuries & pain areas</span>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="text-petros-green text-xl">âœ“</span>
                                    <span class="text-gray-700">Current medications</span>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="text-petros-green text-xl">âœ“</span>
                                    <span class="text-gray-700">Health & lifestyle goals</span>
                                </div>
                            </div>
                        </div>

                        <div class="flex flex-col sm:flex-row gap-4 mb-8">
                            <button onclick="document.getElementById('patient-form-modal').classList.remove('hidden'); return false;" class="flex-1 bg-petros-green hover:bg-petros-slate text-white px-8 py-4 rounded-xl font-bold transition-all shadow-lg hover:shadow-xl transform hover:scale-105">
                                <span class="flex items-center justify-center gap-2">
                                    <i data-lucide="arrow-right" class="w-5 h-5"></i>
                                    <span>Fill Out Patient Form Now</span>
                                </span>
                            </button>
                            <button onclick="document.getElementById('patient-form-cta').classList.add('hidden'); return false;" class="px-8 py-4 rounded-xl font-bold border-2 border-gray-300 text-gray-700 hover:border-gray-400 transition-all">
                                Skip for Now
                            </button>
                        </div>

                        <p class="text-center text-xs text-gray-500 mt-6 uppercase tracking-widest">
                ðŸ’¡ You can also fill this out later and email it to us
            </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Patient Form Modal Overlay - Moved outside all containers for proper z-index -->
    <div id="patient-form-modal" class="hidden fixed inset-0 z-[9998] overflow-y-auto" role="dialog" aria-modal="true" aria-labelledby="patient-form-title">
        <!-- Dark semi-transparent backdrop -->
        <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" onclick="document.getElementById('patient-form-modal').classList.add('hidden'); return false;" aria-hidden="true"></div>
        
        <!-- Modal content -->
        <div class="fixed inset-0 flex items-center justify-center p-4 py-12 pointer-events-none">
            <div class="relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto pointer-events-auto" role="document">
                <!-- Modal header -->
                <div class="sticky top-0 bg-white border-b border-gray-200 p-6 md:p-8 flex justify-between items-start z-10">
                    <div>
                        <h3 id="patient-form-title" class="font-serif text-2xl md:text-3xl text-petros-slate mb-2">Patient Assessment Form</h3>
                        <p class="text-gray-600 text-sm">Medical details help us create your perfect restoration plan.</p>
                    </div>
                    <button type="button" onclick="document.getElementById('patient-form-modal').classList.add('hidden'); return false;" class="text-gray-400 hover:text-gray-600 transition-colors" aria-label="Close patient form">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>

                <!-- Modal body -->
                <div class="p-6 md:p-8">
                    <form id="patientForm" class="space-y-4">
                        <!-- Name -->
                        <div>
                            <label class="block text-xs font-bold text-petros-green uppercase mb-2">Full Name *</label>
                            <input type="text" name="name" required class="w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20">
                        </div>

                        <!-- Medical History -->
                        <div>
                            <label class="block text-xs font-bold text-petros-green uppercase mb-2">Medical History & Conditions *</label>
                            <textarea name="medical_history" required rows="2" class="w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 resize-none" placeholder="e.g., diabetes, hypertension, arthritis, etc."></textarea>
                        </div>

                        <!-- Injuries & Pain - Interactive Body Diagram -->
                        <div>
                            <label class="block text-xs font-bold text-petros-green uppercase mb-2">Pain Areas (Click to Select) *</label>
                            <input type="hidden" name="injuries_pain" id="pain-areas-input" required>
                            
                            <div class="flex flex-col md:flex-row gap-4 items-start">
                                <!-- Body Diagram -->
                                <div class="flex-shrink-0 bg-gradient-to-b from-petros-cream/50 to-white rounded-xl p-4 border border-gray-200">
                                    <svg viewBox="0 0 200 380" class="w-32 h-auto mx-auto" id="body-diagram" role="img" aria-label="Interactive body diagram for selecting pain areas">
                                        <title>Click on body parts to select pain areas</title>
                                        <!-- Head -->
                                        <ellipse cx="100" cy="30" rx="25" ry="28" class="body-part" data-part="Head/Neck" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <!-- Neck -->
                                        <rect x="90" y="55" width="20" height="15" rx="3" class="body-part" data-part="Head/Neck" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <!-- Shoulders -->
                                        <ellipse cx="55" cy="85" rx="20" ry="12" class="body-part" data-part="Left Shoulder" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <ellipse cx="145" cy="85" rx="20" ry="12" class="body-part" data-part="Right Shoulder" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <!-- Torso/Back -->
                                        <path d="M70 70 Q100 65 130 70 L140 90 L140 150 Q100 160 60 150 L60 90 Z" class="body-part" data-part="Upper Back/Chest" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <path d="M60 150 Q100 160 140 150 L135 210 Q100 220 65 210 Z" class="body-part" data-part="Lower Back/Core" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <!-- Arms -->
                                        <path d="M35 85 Q25 120 30 160 Q35 165 45 160 Q50 120 55 95" class="body-part" data-part="Left Arm" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <path d="M165 85 Q175 120 170 160 Q165 165 155 160 Q150 120 145 95" class="body-part" data-part="Right Arm" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <!-- Hands -->
                                        <ellipse cx="37" cy="175" rx="12" ry="15" class="body-part" data-part="Left Hand/Wrist" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <ellipse cx="163" cy="175" rx="12" ry="15" class="body-part" data-part="Right Hand/Wrist" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <!-- Hips -->
                                        <path d="M65 210 Q100 220 135 210 L140 240 Q100 250 60 240 Z" class="body-part" data-part="Hips/Pelvis" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <!-- Upper Legs -->
                                        <path d="M60 240 Q70 250 75 240 L85 300 Q75 305 65 300 Z" class="body-part" data-part="Left Thigh" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <path d="M140 240 Q130 250 125 240 L115 300 Q125 305 135 300 Z" class="body-part" data-part="Right Thigh" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <!-- Knees -->
                                        <ellipse cx="75" cy="310" rx="12" ry="15" class="body-part" data-part="Left Knee" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <ellipse cx="125" cy="310" rx="12" ry="15" class="body-part" data-part="Right Knee" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <!-- Lower Legs -->
                                        <path d="M65 325 L70 360 Q75 365 80 360 L85 325" class="body-part" data-part="Left Calf/Shin" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <path d="M115 325 L120 360 Q125 365 130 360 L135 325" class="body-part" data-part="Right Calf/Shin" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <!-- Feet -->
                                        <ellipse cx="75" cy="370" rx="15" ry="8" class="body-part" data-part="Left Foot/Ankle" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                        <ellipse cx="125" cy="370" rx="15" ry="8" class="body-part" data-part="Right Foot/Ankle" fill="#e5e7eb" stroke="#d1d5db" stroke-width="1.5"/>
                                    </svg>
                                    <p class="text-[10px] text-gray-400 text-center mt-2">Click body parts</p>
                                </div>
                                
                                <!-- Selected Areas & Condition Type -->
                                <div class="flex-1 space-y-3 w-full">
                                    <!-- Condition Type Dropdown -->
                                    <div>
                                        <label class="block text-[10px] font-semibold text-gray-500 uppercase mb-1">Type of Concern</label>
                                        <select id="condition-type" class="w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-petros-green focus:outline-none text-sm">
                                            <option value="">Select type...</option>
                                            <option value="Chronic Pain">Chronic Pain</option>
                                            <option value="Sports Injury">Sports Injury</option>
                                            <option value="Post-Surgery Rehab">Post-Surgery Rehab</option>
                                            <option value="Posture Issues">Posture Issues</option>
                                            <option value="Muscle Strain">Muscle Strain</option>
                                            <option value="Joint Stiffness">Joint Stiffness</option>
                                            <option value="Mobility Issues">Mobility Issues</option>
                                            <option value="Work-Related">Work-Related Injury</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                    
                                    <!-- Selected Areas Display -->
                                    <div>
                                        <label class="block text-[10px] font-semibold text-gray-500 uppercase mb-1">Selected Areas</label>
                                        <div id="selected-areas" class="min-h-[60px] p-2 rounded-lg border border-gray-200 bg-gray-50 flex flex-wrap gap-1">
                                            <span class="text-xs text-gray-400 italic" id="no-areas-text">Click on the body diagram...</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Additional Notes -->
                                    <div>
                                        <label class="block text-[10px] font-semibold text-gray-500 uppercase mb-1">Additional Details</label>
                                        <textarea id="pain-notes" rows="2" class="w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-petros-green focus:outline-none text-sm resize-none" placeholder="Any other details about your pain..."></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Allergies -->
                        <div>
                            <label class="block text-xs font-bold text-petros-green uppercase mb-2">Allergies & Adverse Reactions *</label>
                            <textarea name="allergies" required rows="2" class="w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 resize-none" placeholder="List any allergies (medications, latex, etc.) or adverse reactions"></textarea>
                        </div>

                        <!-- Medications -->
                        <div>
                            <label class="block text-xs font-bold text-petros-green uppercase mb-2">Current Medications & Supplements</label>
                            <textarea name="medications" rows="2" class="w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 resize-none" placeholder="List any medications, supplements, or treatments you're currently taking"></textarea>
                        </div>

                        <!-- Recent Surgeries -->
                        <div>
                            <label class="block text-xs font-bold text-petros-green uppercase mb-2">Recent Surgeries or Procedures</label>
                            <textarea name="surgeries" rows="2" class="w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 resize-none" placeholder="Any surgeries or procedures in the last year or two?"></textarea>
                        </div>

                        <!-- Health Goals -->
                        <div>
                            <label class="block text-xs font-bold text-petros-green uppercase mb-2">Health & Lifestyle Goals *</label>
                            <textarea name="health_goals" required rows="2" class="w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-petros-green focus:outline-none focus:ring-2 focus:ring-petros-green/20 resize-none" placeholder="What are your goals? What would you like to achieve?"></textarea>
                        </div>

                        <div class="flex flex-col sm:flex-row gap-3 pt-4">
                            <button type="submit" class="flex-1 bg-petros-green hover:bg-petros-slate text-white py-3 rounded-lg font-bold transition-all shadow-lg">
                                <span class="flex items-center justify-center gap-2">
                                    <i data-lucide="send" class="w-4 h-4"></i>
                                    Submit Form
                                </span>
                            </button>
                            <button type="button" onclick="document.getElementById('patient-form-modal').classList.add('hidden'); return false;" class="px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-all">
                                Close
                            </button>
                        </div>
                    </form>

                    <!-- Patient Form Success Message (Hidden initially) -->
                    <div id="patient-form-success" class="hidden text-center py-8">
                        <div class="mb-6">
                            <div class="relative w-20 h-20 mx-auto">
                                <div class="absolute inset-0 bg-petros-green/20 rounded-full animate-ping"></div>
                                <div class="relative w-full h-full bg-petros-green/10 rounded-full flex items-center justify-center">
                                    <svg class="w-10 h-10 text-petros-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <h4 class="font-serif text-3xl text-petros-slate mb-3">Thank You!</h4>
                        <p class="text-gray-600 mb-2">Your patient assessment form has been submitted successfully.</p>
                        <p class="text-petros-green font-semibold text-sm mb-6">We now have everything we need to prepare for your visit ðŸŒ¿</p>
                        <button type="button" onclick="document.getElementById('patient-form-modal').classList.add('hidden'); document.getElementById('patient-form-cta').classList.add('hidden');" class="bg-petros-green hover:bg-petros-slate text-white px-8 py-3 rounded-xl font-bold transition-all shadow-lg">
                            <span class="flex items-center justify-center gap-2">
                                <i data-lucide="home" class="w-4 h-4"></i>
                                Done
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white pt-12 pb-6 border-t border-gray-200 relative overflow-hidden z-10">
        <div class="absolute top-0 right-0 w-96 h-96 bg-petros-green/3 rounded-full blur-3xl -mr-48 -mt-48"></div>
        
        <div class="container mx-auto px-4 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8 text-center md:text-left">
                <div class="flex flex-col items-center md:items-start">
                    <div class="flex items-center gap-2 mb-4">
                        <div class="w-10 h-10 bg-petros-slate rounded-md flex items-center justify-center overflow-hidden">
                            <img src="logo.png" alt="PÃ©tros Biokinetics" class="h-6 w-auto block">
                        </div>
                        <span class="font-serif italic text-lg text-petros-slate">PÃ©tros <span class="font-light not-italic">Biokinetics</span></span>
                    </div>
                    <p class="text-gray-600 text-sm leading-snug mb-4 max-w-xs">
                        Pioneering biokinetic restoration where clinical science meets absolute serenity.
                    </p>
                    <!-- Social Icons -->
                    <div class="flex gap-3 justify-center md:justify-start">
                        <a href="https://www.instagram.com/petrosbiokinetics" target="_blank" rel="noopener noreferrer" aria-label="Follow us on Instagram"
                            class="w-9 h-9 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 hover:bg-petros-green hover:text-white transition-all">
                            <i data-lucide="instagram" class="w-4 h-4" aria-hidden="true"></i>
                        </a>
                        <a href="https://www.facebook.com/petrosbiokinetics" target="_blank" rel="noopener noreferrer" aria-label="Follow us on Facebook"
                            class="w-9 h-9 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 hover:bg-petros-green hover:text-white transition-all">
                            <i data-lucide="facebook" class="w-4 h-4" aria-hidden="true"></i>
                        </a>
                        <a href="https://wa.me/264816835055" target="_blank" rel="noopener noreferrer" aria-label="Chat with us on WhatsApp"
                            class="w-9 h-9 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 hover:bg-petros-green hover:text-white transition-all">
                            <i data-lucide="message-circle" class="w-4 h-4" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>

                <div>
                    <h4 class="text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-4">Navigation</h4>
                    <ul class="space-y-2 text-sm text-petros-slate font-medium">
                        <li><a href="index.html" class="hover:text-petros-green transition-colors">Home</a></li>
                        <li><a href="services.html" class="hover:text-petros-green transition-colors">Services</a></li>
                        <li><a href="pricing.html" class="hover:text-petros-green transition-colors">Pricing</a></li>
                        <li><a href="about.html" class="hover:text-petros-green transition-colors">About</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-4">Hours</h4>
                    <ul class="space-y-2 text-sm text-gray-700">
                        <li class="flex justify-between gap-4"><span>Mon â€” Fri</span><span class="font-medium">07:00 â€“ 18:00</span></li>
                        <li class="flex justify-between gap-4"><span>Closed</span><span class="font-medium">12:00 â€“ 13:00</span></li>
                        <li class="flex justify-between gap-4"><span>Sat & Sun</span><span class="font-medium">Closed</span></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-xs font-bold tracking-[0.2em] text-petros-green uppercase mb-4">Contact</h4>
                    <p class="text-sm text-gray-700 mb-2">102 Dr. Libertine Amathila Avenue</p>
                    <p class="text-sm text-gray-700 mb-6">Swakopmund, Namibia</p>
                    <p class="font-serif text-lg text-petros-slate italic">+264 81 683 5055</p>
                </div>
            </div>

            <div class="border-t border-gray-200 pt-6 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 uppercase tracking-widest">
                <p>&copy; 2026 PÃ©tros Biokinetics. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        lucide.createIcons();

        // Handle form submission with AJAX
        document.getElementById('bookingForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const form = this;
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            
            // Show loading state
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="flex items-center justify-center gap-2"><i data-lucide="loader" class="w-4 h-4 animate-spin"></i> Sending...</span>';
            lucide.createIcons();
            
            try {
                // Collect form data
                const formData = new FormData(form);
                
                // Send to Formspree via fetch
                const response = await fetch('https://formspree.io/f/maqnbgnn', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    // Success - show our custom message
                    document.getElementById('booking-form-container').classList.add('hidden');
                    document.getElementById('success-message').classList.remove('hidden');
                    document.getElementById('patient-form-cta').classList.remove('hidden');
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    lucide.createIcons();
                } else {
                    // Error
                    alert('Something went wrong. Please try again.');
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalText;
                }
            } catch (error) {
                console.error('Error:', error);
                alert('There was an error submitting your booking. Please try again.');
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;
            }
        });

        // Handle patient form submission
        document.getElementById('patientForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const form = this;
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            
            // Show loading state
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="flex items-center justify-center gap-2"><i data-lucide="loader" class="w-4 h-4 animate-spin"></i> Submitting...</span>';
            lucide.createIcons();
            
            try {
                // Collect form data
                const formData = new FormData(form);
                
                // Send to Formspree via fetch
                const response = await fetch('https://formspree.io/f/xqeagoyz', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    // Success - show nice confirmation message
                    document.getElementById('patientForm').classList.add('hidden');
                    document.getElementById('patient-form-success').classList.remove('hidden');
                    form.reset();
                    lucide.createIcons();
                } else {
                    // Error
                    alert('Something went wrong. Please try again.');
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalText;
                }
            } catch (error) {
                console.error('Error:', error);
                alert('There was an error submitting your form. Please try again.');
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;
            }
        });

        // Weekend validation for date picker
        const dateInput = document.getElementById("appointment-date");
        const dateError = document.getElementById("date-error");
        
        // Set minimum date to today
        const today = new Date().toISOString().split('T')[0];
        dateInput.setAttribute('min', today);
        
        dateInput.addEventListener('change', function() {
            const selectedDate = new Date(this.value);
            const day = selectedDate.getDay();
            
            // 0 = Sunday, 6 = Saturday
            if (day === 0 || day === 6) {
                dateError.classList.remove('hidden');
                this.value = '';
                this.setCustomValidity('Please select a weekday (Monday - Friday)');
            } else {
                dateError.classList.add('hidden');
                this.setCustomValidity('');
            }
        });

        // ===== CUSTOM DATE PICKER =====
        let currentDate = new Date();
        let selectedDate = null;

        function toggleCalendar() {
            const dropdown = document.getElementById('calendar-dropdown');
            const display = document.getElementById('date-display');
            const timeDropdown = document.getElementById('time-dropdown');
            const timeDisplay = document.getElementById('time-display');
            
            timeDropdown.classList.add('hidden');
            timeDisplay.setAttribute('aria-expanded', 'false');
            
            dropdown.classList.toggle('hidden');
            const isExpanded = !dropdown.classList.contains('hidden');
            display.setAttribute('aria-expanded', isExpanded ? 'true' : 'false');
            
            if (isExpanded) {
                renderCalendar();
            }
        }

        function changeMonth(delta) {
            currentDate.setMonth(currentDate.getMonth() + delta);
            renderCalendar();
        }

        function renderCalendar() {
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('calendar-month').textContent = monthNames[currentDate.getMonth()] + ' ' + currentDate.getFullYear();

            const daysContainer = document.getElementById('calendar-days');
            daysContainer.innerHTML = '';

            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            // Monday = 0, Sunday = 6 (adjusted from JS default)
            let startDay = firstDay.getDay() - 1;
            if (startDay < 0) startDay = 6;

            // Previous month days
            const prevMonth = new Date(year, month, 0);
            for (let i = startDay - 1; i >= 0; i--) {
                const dayEl = document.createElement('div');
                dayEl.className = 'calendar-day other-month disabled';
                dayEl.textContent = prevMonth.getDate() - i;
                daysContainer.appendChild(dayEl);
            }

            // Current month days
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dayEl = document.createElement('div');
                const thisDate = new Date(year, month, day);
                const dayOfWeek = thisDate.getDay();
                const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;
                const isPast = thisDate < today;
                const isToday = thisDate.getTime() === today.getTime();
                const isSelected = selectedDate && thisDate.getTime() === selectedDate.getTime();

                let classes = 'calendar-day';
                if (isWeekend) classes += ' weekend';
                if (isPast) classes += ' disabled';
                if (isToday) classes += ' today';
                if (isSelected) classes += ' selected';

                dayEl.className = classes;
                dayEl.textContent = day;

                if (!isWeekend && !isPast) {
                    dayEl.onclick = () => selectDate(thisDate);
                }

                daysContainer.appendChild(dayEl);
            }

            // Next month days
            const totalCells = daysContainer.children.length;
            const remainingCells = 42 - totalCells;
            for (let i = 1; i <= remainingCells; i++) {
                const dayEl = document.createElement('div');
                dayEl.className = 'calendar-day other-month disabled';
                dayEl.textContent = i;
                daysContainer.appendChild(dayEl);
            }
        }

        function selectDate(date) {
            selectedDate = date;
            const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
            document.getElementById('date-text').textContent = date.toLocaleDateString('en-US', options);
            document.getElementById('date-text').classList.remove('text-gray-400');
            document.getElementById('date-text').classList.add('text-petros-slate');
            
            // Format for form submission: YYYY-MM-DD
            const formattedDate = date.getFullYear() + '-' + String(date.getMonth() + 1).padStart(2, '0') + '-' + String(date.getDate()).padStart(2, '0');
            document.getElementById('appointment-date').value = formattedDate;
            
            document.getElementById('calendar-dropdown').classList.add('hidden');
            document.getElementById('date-display').setAttribute('aria-expanded', 'false');
            renderCalendar();
        }

        // ===== CUSTOM TIME PICKER =====
        function toggleTimeDropdown() {
            const dropdown = document.getElementById('time-dropdown');
            const display = document.getElementById('time-display');
            const calendarDropdown = document.getElementById('calendar-dropdown');
            const dateDisplay = document.getElementById('date-display');
            
            calendarDropdown.classList.add('hidden');
            dateDisplay.setAttribute('aria-expanded', 'false');
            
            dropdown.classList.toggle('hidden');
            const isExpanded = !dropdown.classList.contains('hidden');
            display.setAttribute('aria-expanded', isExpanded ? 'true' : 'false');
        }

        function selectTime(value, display) {
            document.getElementById('appointment-time').value = value;
            document.getElementById('time-text').textContent = display;
            document.getElementById('time-text').classList.remove('text-gray-400');
            document.getElementById('time-text').classList.add('text-petros-slate');
            
            // Update selected state
            document.querySelectorAll('.time-option').forEach(opt => opt.classList.remove('selected'));
            event.target.classList.add('selected');
            
            document.getElementById('time-dropdown').classList.add('hidden');
            document.getElementById('time-display').setAttribute('aria-expanded', 'false');
        }

        // ===== CUSTOM MEDICAL AID PICKER =====
        function toggleMedicalAidDropdown() {
            const dropdown = document.getElementById('medical-aid-dropdown');
            const display = document.getElementById('medical-aid-display');
            const calendarDropdown = document.getElementById('calendar-dropdown');
            const timeDropdown = document.getElementById('time-dropdown');
            
            calendarDropdown.classList.add('hidden');
            document.getElementById('date-display').setAttribute('aria-expanded', 'false');
            timeDropdown.classList.add('hidden');
            document.getElementById('time-display').setAttribute('aria-expanded', 'false');
            
            dropdown.classList.toggle('hidden');
            const isExpanded = !dropdown.classList.contains('hidden');
            display.setAttribute('aria-expanded', isExpanded ? 'true' : 'false');
        }

        function selectMedicalAid(value, display) {
            document.getElementById('medical-aid').value = value;
            document.getElementById('medical-aid-text').textContent = display;
            document.getElementById('medical-aid-text').classList.remove('text-gray-400');
            document.getElementById('medical-aid-text').classList.add('text-petros-slate');
            
            // Update selected state
            document.querySelectorAll('.medical-aid-option').forEach(opt => opt.classList.remove('selected'));
            event.target.closest('button').classList.add('selected');
            
            document.getElementById('medical-aid-dropdown').classList.add('hidden');
            document.getElementById('medical-aid-display').setAttribute('aria-expanded', 'false');
        }

        // ===== CUSTOM CONDITION PICKER =====
        function toggleConditionDropdown() {
            const dropdown = document.getElementById('condition-dropdown');
            const display = document.getElementById('condition-display');
            const calendarDropdown = document.getElementById('calendar-dropdown');
            const timeDropdown = document.getElementById('time-dropdown');
            const medicalAidDropdown = document.getElementById('medical-aid-dropdown');
            
            calendarDropdown.classList.add('hidden');
            document.getElementById('date-display').setAttribute('aria-expanded', 'false');
            timeDropdown.classList.add('hidden');
            document.getElementById('time-display').setAttribute('aria-expanded', 'false');
            medicalAidDropdown.classList.add('hidden');
            document.getElementById('medical-aid-display').setAttribute('aria-expanded', 'false');
            
            dropdown.classList.toggle('hidden');
            const isExpanded = !dropdown.classList.contains('hidden');
            display.setAttribute('aria-expanded', isExpanded ? 'true' : 'false');
        }

        function selectCondition(value) {
            document.getElementById('condition-type-booking').value = value;
            document.getElementById('condition-text').textContent = value;
            document.getElementById('condition-text').classList.remove('text-gray-400');
            document.getElementById('condition-text').classList.add('text-petros-slate');
            
            // Update selected state
            document.querySelectorAll('.condition-option').forEach(opt => opt.classList.remove('selected'));
            event.target.classList.add('selected');
            
            document.getElementById('condition-dropdown').classList.add('hidden');
            document.getElementById('condition-display').setAttribute('aria-expanded', 'false');
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(e) {
            const calendarDropdown = document.getElementById('calendar-dropdown');
            const timeDropdown = document.getElementById('time-dropdown');
            const medicalAidDropdown = document.getElementById('medical-aid-dropdown');
            const conditionDropdown = document.getElementById('condition-dropdown');
            const dateDisplay = document.getElementById('date-display');
            const timeDisplay = document.getElementById('time-display');
            const medicalAidDisplay = document.getElementById('medical-aid-display');
            const conditionDisplay = document.getElementById('condition-display');

            if (!dateDisplay.contains(e.target) && !calendarDropdown.contains(e.target)) {
                calendarDropdown.classList.add('hidden');
                dateDisplay.setAttribute('aria-expanded', 'false');
            }
            if (!timeDisplay.contains(e.target) && !timeDropdown.contains(e.target)) {
                timeDropdown.classList.add('hidden');
                timeDisplay.setAttribute('aria-expanded', 'false');
            }
            if (!medicalAidDisplay.contains(e.target) && !medicalAidDropdown.contains(e.target)) {
                medicalAidDropdown.classList.add('hidden');
                medicalAidDisplay.setAttribute('aria-expanded', 'false');
            }
            if (!conditionDisplay.contains(e.target) && !conditionDropdown.contains(e.target)) {
                conditionDropdown.classList.add('hidden');
                conditionDisplay.setAttribute('aria-expanded', 'false');
            }
        });

        // Initialize calendar on page load
        renderCalendar();

        // ===== BODY DIAGRAM PAIN SELECTOR =====
        const selectedPainAreas = new Set();

        document.querySelectorAll('.body-part').forEach(part => {
            part.addEventListener('click', function() {
                const area = this.getAttribute('data-part');
                
                if (selectedPainAreas.has(area)) {
                    selectedPainAreas.delete(area);
                    this.classList.remove('selected');
                } else {
                    selectedPainAreas.add(area);
                    this.classList.add('selected');
                }
                
                updatePainAreasDisplay();
            });
        });

        function updatePainAreasDisplay() {
            const container = document.getElementById('selected-areas');
            const noAreasText = document.getElementById('no-areas-text');
            const input = document.getElementById('pain-areas-input');
            const conditionType = document.getElementById('condition-type').value;
            const notes = document.getElementById('pain-notes').value;
            
            // Clear existing tags (keep noAreasText)
            container.querySelectorAll('.pain-tag').forEach(tag => tag.remove());
            
            if (selectedPainAreas.size === 0) {
                noAreasText.classList.remove('hidden');
                input.value = '';
            } else {
                noAreasText.classList.add('hidden');
                
                selectedPainAreas.forEach(area => {
                    const tag = document.createElement('span');
                    tag.className = 'pain-tag';
                    tag.innerHTML = `${area} <button type="button" onclick="removePainArea('${area}')">&times;</button>`;
                    container.appendChild(tag);
                });
                
                // Update hidden input with all pain info
                let painInfo = Array.from(selectedPainAreas).join(', ');
                if (conditionType) painInfo = `[${conditionType}] ` + painInfo;
                if (notes) painInfo += ` - Notes: ${notes}`;
                input.value = painInfo;
            }
        }

        function removePainArea(area) {
            selectedPainAreas.delete(area);
            document.querySelectorAll(`.body-part[data-part="${area}"]`).forEach(el => {
                el.classList.remove('selected');
            });
            updatePainAreasDisplay();
        }

        // Update hidden input when condition type or notes change
        document.getElementById('condition-type').addEventListener('change', updatePainAreasDisplay);
        document.getElementById('pain-notes').addEventListener('input', updatePainAreasDisplay);
    </script>

    <!-- WhatsApp Floating Button - Subtle & Non-intrusive -->
    <a href="https://wa.me/264816503103" target="_blank" rel="noopener" aria-label="Chat on WhatsApp" 
       class="fixed bottom-6 right-6 z-40 w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center shadow-lg opacity-70 hover:opacity-100 hover:scale-110 transition-all duration-300 md:w-14 md:h-14 group">
        <svg class="w-6 h-6 md:w-7 md:h-7 text-white" fill="currentColor" viewBox="0 0 24 24">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
        </svg>
        <span class="absolute right-full mr-3 px-3 py-1.5 bg-white text-petros-slate text-sm font-medium rounded-lg shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap pointer-events-none hidden md:block">Chat with us</span>
    </a>

    <!-- Back to Top Button -->
    <button id="back-to-top" aria-label="Scroll back to top of page" 
        class="fixed bottom-24 right-6 z-40 w-11 h-11 bg-petros-slate/80 hover:bg-petros-green rounded-full flex items-center justify-center shadow-lg opacity-0 invisible hover:scale-110 transition-all duration-300 md:w-12 md:h-12 md:bottom-28">
        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 15l7-7 7 7"></path>
        </svg>
    </button>

    <script>
        // Back to Top Button
        const backToTopBtn = document.getElementById('back-to-top');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 400) {
                backToTopBtn.classList.remove('opacity-0', 'invisible');
                backToTopBtn.classList.add('opacity-70');
            } else {
                backToTopBtn.classList.add('opacity-0', 'invisible');
                backToTopBtn.classList.remove('opacity-70');
            }
        });
        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
</body>
</html>
